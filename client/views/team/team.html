<template name="Team">
  <div class="nav-panel dark-1 height-1-3 {{#if changeAthlete}}collapse{{/if}}">
  	<h3 class="uk-margin-small-bottom">Name: </h3><h1 class="bright uk-margin-small-top uk-text-right">TeamName{{Name}}</h1>
  	<h3 class="uk-margin-small-top uk-margin-small-bottom">Nation: </h3><h1 class="bright uk-margin-small-top uk-text-right">Nation{{NAT}}</h1>
  </div>
  {{> teamDetails collapse=collapse}}
  {{> athleteBlock athletes=myAthletes details=athleteBlockDetails overlay=true}}
  {{> athleteTabs athletes=allAthletes details=athleteTabsDetails}}
</template>

<template name="athleteBlock">
  <div class="nav-panel athlete-panel {{details.color}} height-{{details.heightString}} {{details.extraClasses}}" style="padding: {{details.marginPct}}%; {{details.extraStyles}}">
  	{{#each athletes}}
  		{{> athlete}}
  	{{/each}}
    {{#if overlay}}
    <div class="overlay-area {{#if dragOverlay}}visible{{/if}}">
    </div>
    {{/if}}
  </div>
</template>

<template name="athleteTabs">
  <div class="nav-panel athlete-tab-panel {{details.color}} height-{{details.heightString}} {{details.extraClasses}}" style="{{details.extraStyles}}">
    <div>
      {{#each athletes}}
        {{> athleteTab}}
      {{/each}}
      <div class="uk-clearfix"></div>
    </div>
  </div>
</template>

<template name="athlete">
	<div class="athlete" style="height: {{toPercent ../details.rows ../details.marginPct}}%; width: {{toPercent ../details.cols ../details.marginPct}}%; margin: {{../details.marginPct}}%;">
  		<div class="athlete-background" style="background-image: {{athleteBackground this}};">
  		</div>
  {{#if IBUId}}
  		<div class="athlete-data">
  			<div class="show-row"><span><span class="uk-text-bold large-text bright">{{FamilyName}}, {{GivenName}}</span></span></div>
  			<div class="show-row"><span>Value: <span class="uk-text-bold large-text bright">{{value}}</span></span></div>
  			<div class="show-row"><span>Points: <span class="uk-text-bold large-text bright">{{points}}</span></span></div>		
  		</div>
  {{/if}}
  	</div>
</template>

<template name="athleteTab">
  <div class="athlete-tab {{GenderId}}-tab {{#unless eligible}}disabled{{/unless}}">
    <div class="athlete-tab-background" style="background-image: url('images/{{NAT}}.png')"></div>
    <div class="athlete-tab-contents">
      <div class="uk-text-bold">{{FamilyName}}, {{abbreviate GivenName}}</div>
      <div class="uk-text-bold">{{NAT}} - {{value}} points</div>
    </div>
  </div>
</template>

<template name="teamDetails">
  <div class="nav-panel height-1-6 dark-2 overlay heading-block {{collapse}}">
      <h4 class="uk-float-left">Value: {{value}} / {{MAX_VALUE}}</h4><h4 class="uk-float-right">Transfers: {{transfers}}</h4>
      <h4 class="uk-float-left clear-left">M / W: {{toNum eligibility.genders.M}} / {{toNum eligibility.genders.W}}</h4><h4 class="uk-float-right clear-right">Save</h4>
      <div class="overlay-area {{#if dragOverlay}}visible{{/if}}">
          <div class="overlay-area-content" data-action="remove-athlete"><i class="uk-icon-trash"></i></div>
      </div>
  </div>
</template>